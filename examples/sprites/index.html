<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Predicate Academy">
        <link rel="canonical" href="http://predigame.io/examples/sprites/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Drawing Sprites - Predigame</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-116346762-1', 'predigame.io');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Predigame</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li >
                                <a href="../../about/">About</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../fireworks/">Fireworks!</a>
</li>
                                    
<li >
    <a href="../pictureframe/">Picture Frame</a>
</li>
                                    
<li >
    <a href="../bacon/">Making Bacon</a>
</li>
                                    
<li >
    <a href="../clickninja/">Click Ninja</a>
</li>
                                    
<li >
    <a href="../thirsty/">Thirsty Zombie</a>
</li>
                                    
<li >
    <a href="../zombie/">Zombie Madness</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="./">Drawing Sprites</a>
</li>
                                    
<li >
    <a href="../actors/">Actor Framework</a>
</li>
                                    
<li >
    <a href="../levels/">Levels</a>
</li>
                                    
<li >
    <a href="../mazes/">Mazes</a>
</li>
                                    
<li >
    <a href="../score/">Scoring</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="https://medium.com/@predicateacad">Blog</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../zombie/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../actors/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/predigame"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#working-with-sprites">Working with Sprites</a></li>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#getting-started">Getting Started</a></li>
            <li><a href="#understanding-grid-coordinates">Understanding Grid Coordinates</a></li>
            <li><a href="#creating-shapes">Creating Shapes</a></li>
            <li><a href="#creating-images">Creating Images</a></li>
            <li><a href="#sprite-effects">Sprite Effects</a></li>
            <li><a href="#sprite-event-callbacks">Sprite Event Callbacks</a></li>
            <li><a href="#next-steps">Next Steps</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="working-with-sprites">Working with Sprites</h1>
<p>The Predigame sprite is a generic two-dimensional object that is integrated with other sprites in a larger scene. A sprite can consist of a bitmap (still) image or a basic geometrical shape (circle, rectangle, ellipse). Sprites in Predigame have some fun properties - they can be clicked, collide with other sprites, even fade, spin or pulse.</p>
<p>Let's have fun working with Sprites!</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>You'll need to have the Predigame platform installed, a trusty text editor handy, and the command prompt (or terminal) open to complete this tutorial. Visit <a href="http://predigame.io">http://predigame.io</a> for installation instructions.</p>
<h2 id="getting-started">Getting Started</h2>
<p>To get things started, we're going to create a new Predigame game. This can be done by typing the following the command in the terminal:</p>
<pre><code>pred new sprites
</code></pre>

<p>Now in the text editor, find and open the file <code>sprites/game.py</code>. This file is used to create a basic Predigame canvas that we'll use to place sprites. The canvas will have a width of 30 grid cells, height of 20 grid cells (we'll discuss what cells mean in a second), and a title of <code>Simple Game</code>, which we're going to change to <code>Sprites Demo</code>.</p>
<pre><code class="python">WIDTH = 30
HEIGHT = 20
TITLE = 'Sprites Demo'
</code></pre>

<p>Save your changes. Try running the game from the terminal using the <code>pred</code> command (you'll want to run this command from the directory where you saved the file, e.g. <code>sprites</code> if you followed the above <code>pred new</code> example).</p>
<pre><code>pred game.py
</code></pre>

<p>Now this program doesn't do much just yet. Just an empty window titled <code>Sprites Demo</code>. So boring. We're going to add some more code, but first let's make sure we understand grid coordinates and how to place sprites within those coordinates.</p>
<h2 id="understanding-grid-coordinates">Understanding Grid Coordinates</h2>
<p>Probably the easiest way to understand grid coordinates is to enable the <code>grid()</code> overlay in the game code.</p>
<pre><code class="python">WIDTH = 30
HEIGHT = 20
TITLE = 'Sprites Demo'

grid()
</code></pre>

<p>Save your code and try running the this version using the same command:</p>
<pre><code>pred game.py
</code></pre>

<p>The result should look like the figure below. Counting the grid coordinates will show <strong>30</strong> from <em>left to right</em> and <strong>20</strong> from <em>top to bottom</em>. This doesn't address how to address sprites using grid coordinates, we'll cover that next.</p>
<p><img alt="alt text" src="http://predicate.us/predigame/images/sprites_grid.png" title="Predigame Grid Coordinates" /></p>
<p>The following code will show how to place rectangle sprites in each of the four corners of the window.</p>
<pre><code class="python"># top/left
shape(RECT, RED, (0, 0))

# bottom/left
shape(RECT, BLUE, (0, HEIGHT-1))

# top/right
shape(RECT, PINK, (WIDTH-1, 0))

# bottom/right
shape(RECT, PURPLE, (WIDTH-1, HEIGHT-1))
</code></pre>

<p>Saving and running the code will show:
- a RED rectangle at position <code>(0, 0)</code> corresponding to the top-left corner
- a BLUE rectangle at position <code>(0, HEIGHT-1)</code> corresponding to the bottom-left corner
- a PINK rectangle at position <code>(WIDTH-1,  0)</code> corresponding to the top-right corner
- a PURPLE rectangle at position <code>(WIDTH-1, HEIGHT-1)</code> corresponding to the bottom-right corner</p>
<h4 id="why-are-the-corners-specified-as-width-1-and-height-1"><em>Why are the corners specified as <code>WIDTH-1</code> and <code>HEIGHT-1</code></em>?</h4>
<p>Computers always start counting at zero. So if <code>WIDTH = 30</code> and the first grid is <code>0</code> the thirtieth cell would be <code>WIDTH-1</code> or <code>29</code>.</p>
<p>Running this code should look like the figure below.
<img alt="alt text" src="http://predicate.us/predigame/images/sprites_grid2.png" title="Predigame Grid Coordinates" /></p>
<p>We added a few labels to make the grid coordinates a little more easier to visualize. It's possible to replace the code from the previous exercise with the one here:</p>
<pre><code class="python"># place on center of screen
text(&quot;Understanding Grid Coordinates&quot;, color=BLACK, size = 2.0)
text(&quot;this is a 30 x 20 window&quot;, color=BLACK, pos=(WIDTH/2-7, HEIGHT/2+1), size = 1.75)

# top/left
shape(RECT, RED, (0, 0))
text(&quot;(0, 0)&quot;, RED, pos = (0,1), size = 1.25)

# bottom/left
shape(RECT, BLUE, (0, HEIGHT-1))
text(&quot;(0, &quot; + str(HEIGHT-1) + &quot;)&quot;, BLUE, pos = (0, HEIGHT-2), size=1.25)

# top/right
shape(RECT, PINK, (WIDTH-1, 0))
text(&quot;(&quot; + str(WIDTH-1) + &quot;, 0)&quot;, PINK, pos = (WIDTH-2.5,1), size = 1.25)

# bottom/right
shape(RECT, PURPLE, (WIDTH-1, HEIGHT-1))
text(&quot;(&quot; + str(WIDTH-1) + &quot;, &quot; + str(HEIGHT-1) + &quot;)&quot;, PURPLE, pos = (WIDTH-3,HEIGHT-2), size = 1.25)
</code></pre>

<p>The resulting game window will show the following rendering:
<img alt="alt text" src="http://predicate.us/predigame/images/sprites_grid3.png" title="Predigame Grid Coordinates" /></p>
<h2 id="creating-shapes">Creating Shapes</h2>
<p>There are two types of sprites supported in the Predigame platform - shapes and images. Let's look at shapes. The formal <em>function definition</em> (or signature) for creating a shape is as follows:</p>
<pre><code class="python">shape(shape = None, color = None, pos = None, size = (1, 1))
</code></pre>

<p>Reading this code, there are four <strong>attributes</strong>:</p>
<ol>
<li><code>shape</code> - the type of shape to create. Can be one of RECT, SQUARE, CIRCLE, or ELLIPSE</li>
<li><code>color</code> - the shape's color. Can be a constant like BLACK, BLUE, or RED, as well as a (red, green, blue) tuple such as (128, 128, 128)</li>
<li><code>pos</code>   - the grid cell of the shape</li>
<li><code>size</code>  - the size of the shape in terms of grid cells using the form (width, height). For CIRCLE shapes, only the first number is considered.</li>
</ol>
<p>Notice that each of these attributes have default values. This means that they are option, and if not specified, Predigame will create a random shape type of random color, size, and position.</p>
<pre><code class="python"># draw a random shape type of random color, size, and position
shape()
</code></pre>

<p>Here are a few example shapes we can add to our canvas:</p>
<pre><code class="python"># red circle at position (2, 2)
shape(CIRCLE, RED, (2, 2))

# create a big blue circle next to the red one
shape(CIRCLE, BLUE, (5, 1), 3)

# create a 2x2 ORANGE square at position (10, 2)
shape(RECT, ORANGE, (10, 2), (2,2))

# create a 6x1 rectangle
shape(RECT, AQUA, (15, 2), (6, 1))

# create a custom colored (r, g, b) ELLIPSE
shape(ELLIPSE, (134, 134, 134), (23, 2), (5, 2))
</code></pre>

<p>If we add each of the above shapes to our code, the resulting file will look like this:</p>
<pre><code class="python">WIDTH = 30
HEIGHT = 20
TITLE = 'Sprites Demo'

# red circle at position (2, 2)
shape(CIRCLE, RED, (2, 2))

# create a big blue circle next to the red one
shape(CIRCLE, BLUE, (5, 1), 3)

# create a 2x2 ORANGE square at position (10, 2)
shape(RECT, ORANGE, (10, 2), (2,2))

# create a 6x1 rectangle
shape(RECT, AQUA, (15, 2), (6, 1))

# create a custom colored (r, g, b) ELLIPSE
shape(ELLIPSE, (134, 134, 134), (23, 2), (5, 2))
</code></pre>

<p>Save and run this code. The result should look similar to the image below:
<img alt="alt text" src="http://predicate.us/predigame/images/sprites_grid4.png" title="Predigame Grid Coordinates" /></p>
<h2 id="creating-images">Creating Images</h2>
<p>Like shapes, the Predigame platform also supports creating images. The formal <em>function definition</em> (or signature) for creating an image is as follows:</p>
<pre><code class="python">image(name = None, pos = None, center = None, size = 1)
</code></pre>

<p>Notice that it is similar, yet slightly different than the code for creating a shape. An image in Predigame is defined by:</p>
<ol>
<li><code>name</code> - the name (without extension) of the image file. The image file should be stored in the <strong>images/</strong> directory. For example, if we had an image "coke.png" in our <strong>images/</strong> directory, the name of the image would be "coke".</li>
<li><code>pos</code> -  the grid cell of the shape. Officially, this will be the top-left cell of the image.</li>
<li><code>center</code> - used as an alternative to <code>pos</code> to use this position as the center point.</li>
<li><code>size</code> - the size of the shape in terms of grid cells. By default, the image will be fit into a single grid cell.</li>
</ol>
<p>Notice again that each of these attributes have default values. This means that they are option, and if not specified, PrediGame will select a random image from the <strong>images/</strong> directory of size <code>1</code> (so it will fit into a single cell) and will be placed at a random position.</p>
<p>Now here are a few example shapes we can also add to our canvas:</p>
<pre><code class="python"># create a &quot;sprite&quot; sprite and place at grid location (2, 8)
image('sprite', (2, 8))

# create a &quot;coke&quot; sprite of double size and place at grid (7, 8)
image('coke', (7, 8), size = 2)

# create a zombie
image('zombie-1', (13,9), size = 5)

# create another zombie
image('zombie-2', (19,9), size = 5)
</code></pre>

<p>Add the above lines to our code file and save the changes. The result should look similar to the image below:
<img alt="alt text" src="http://predicate.us/predigame/images/sprites_grid5.png" title="Predigame Grid Coordinates" /></p>
<h2 id="sprite-effects">Sprite Effects</h2>
<p>Drawing sprites can be a lot of fun, however, we can add some effects to bring them to life. For example, we can make sprites spin, float, and even pulse. Let's look at the some new sprites with effects attached.</p>
<h3 id="spinning">Spinning</h3>
<pre><code class="python">image('sprite', (2,14)).spin(time=1)
</code></pre>

<p>This sprite will spin and complete a revolution every second. It's possible to change <code>time</code> to a smaller or larger number to increase or decrease the spin rate.</p>
<h3 id="pulsing">Pulsing</h3>
<pre><code class="python">image('sprite', (7,14)).pulse(time=0.5, size=3)
</code></pre>

<p>Have the sprite execute a pulsing effect - rapidly expand and shrink. The <code>size</code> attribute will control the maximum size of the sprite (as a multiplier) during expansion. The <code>time</code> attribute sets the amount of time (in seconds) the sprite will take to complete an expansion or contraction.</p>
<h3 id="floating">Floating</h3>
<pre><code class="python">image('coke', (13, 15), size = 2).speed(1).float(distance=1)
</code></pre>

<p>Have the sprite float in place. The <code>.speed(1)</code> call sets the speed of the movement and the <code>distance</code> attribute sets the amount of room (in term of grid cells) the sprite will use to complete a floating operation.</p>
<h2 id="sprite-event-callbacks">Sprite Event Callbacks</h2>
<p>When we code a game we sometimes need to create actions that will eventually occur. Think of a mouse trap. It doesn't do much until, you know, the mouse comes by and eats the cheese. In code we define callback functions -- they don't do anything until a certain event, like a mouse click, occurs in the game.</p>
<p>The Python program language requires that we specify our functions before registering them in the code. Let's look at a simple callback example.</p>
<pre><code class="python">def destroy(s):
    s.destroy()
</code></pre>

<p>This function will simply destroy a circle anytime one is clicked. Functions don't work until they are called, or in the case of callbacks, until they are registered.</p>
<pre><code class="python">s = shape(CIRCLE, RED, rand_pos()).clicked(destroy)
</code></pre>

<p>That's right.. We can basically add a <code>.clicked(destroy)</code> to the end of our shape definition and register a callback function that won't get called until the player clicks on the circle.</p>
<p>Let's take a look at few more examples of event callbacks.</p>
<h3 id="click-events">Click Events</h3>
<p>We already briefly covered a click example, but let's look at one that is a little more complicated.</p>
<pre><code class="python">def doit(s):
    s.destroy()
    image('kaboom', center=(15, 10), size=25)

image('clickme', (19, 15), size = 2).pulse(time=0.05, size= 1.25).clicked(doit)
</code></pre>

<p>This example creates a fast pulsing <code>clickme</code> sprite that is destroyed when clicked and replaced with an oversized  <code>kaboom</code> image.</p>
<pre><code class="python">s = image('coke', (13, 15), size = 2)
s.speed(1).bouncy().spin().pulse().clicked(s.destroy)
</code></pre>

<p>This example is similar to our first mouse click example on the shape but it recycles the sprites <code>destroy()</code> method as a callback - <code>.clicked(s.destroy)</code>. It also chains a whole bunch of effects that make this sprite bounce around the canvas, pulse, and even spin.</p>
<h3 id="keyboard-events">Keyboard Events</h3>
<p>We can also control a sprite with the keyboard.</p>
<pre><code class="python">image('zombie-1', (28, 18), size = 2).keys()
image('zombie-2', (25, 18), size = 2).keys(right='d', left='a', up='w', down='s')
</code></pre>

<p>In this case <code>zombie-1</code> is registered with the <code>.keys()</code>function which will control the sprite with keyboard arrow buttons. In the case where we'd like to use other keyboard buttons, such as a multi-player game, we can assign new keys - <code>.keys(right='d', left='a', up='w', down='s')</code>.</p>
<h3 id="collisions">Collisions</h3>
<p>It's common in some games, like FPS, to want to check for sprites that collide with each other.  Let's take our previous keyboard example and check for collisions.</p>
<pre><code class="python">def eatit(z, s):
    s.destroy()
    z.scale(1.2)

image('zombie-1', (28, 18), size = 2).keys().collides(sprites(), eatit)
image('zombie-2', (25, 18), size = 2).keys(right='d', left='a', up='w', down='s').collides(sprites(), eatit)
</code></pre>

<p>Here we <strong>chain</strong> the <code>.collides()</code> callback which takes in a list of sprites and registers a callback function. As coded, we register both zombies to check for collisions with all sprites, the <code>sprites()</code> call will return all sprites on the canvas, and invoke the <code>eatit</code> callback function.</p>
<h2 id="next-steps">Next Steps</h2>
<p>Want to see sprites in action? Take a look at the <a href="/examples/thirsty">Thirsty Zombie</a> game.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
